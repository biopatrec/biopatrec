#summary PatRec module description

= Pattern Recognition =

Different pattern recognition (!PatRec) functions can be accessed by the GUI for !PatRec ({{{GUI_PatRec}}}). For a general overview of the routines involved in !PatRec see [BioPatRec_Roadmap].

== Offline !PatRec == 

Most of the training phase or Offline !PatRec is taking care by the function OfflinePatRec which requires [sigFeatures].

  * First the training and validation sets are extracted (see [xSets])
  * The [xSets] can be formed in different ways according to the _"Select Movements Mix"_ pop menu.
   * _All Mov_. This means that all the movements recorded will be used as independent movements, therefore the # Outputs = # Movements.
   * _Individual Mov_. This option will only considere the individual movementes during the training phase. All movements will be considered in the testing phase. In this case, the # Outputs = # Individual movements. However the accuracy is givien considering all movements.
   * _Mixed Out_. This means that the mixed classes (or simultaneous movements) will also be used during the training phase, and # Outputs = # Individual movements. 
  * Then the classifier topology is created (see [PatRec_Topologies]).
  * Finally OfflinePatRec calls OfflinePatRecTraining to proceed with the classifier(s) training.
  * Returns the [patRec] structure containing all information required for testing the classifier(s).

== Real-time !PatRec == 

 The Real-time pattern recognitions requires a trained classifier in the structure [patRec].

NOTE: To do any real-time testing you must have configured your DAQ card, see [BioPatRec_StartupGuide].

== Pattern recognition algorithms ==

 * [Discriminant_Analysis]] 
 * [MLP] Multi-layers Perceptron
 * [RFN] Regulation Feedback Networks


== !PatRec GUI ==

You first need to load data through the "Get Sig Features" botton. Doing this, there will be a window, which allows you to select the {{{*.mat}}} file of your interest. You can either load a previous recording session ([recSession]) or saved signal features ([sigFeatures]). If you load some other kind of data the message _That was not a valid training matrix_ will be displayed.

 * Load a recording session
 If you load data of a recording session, the program will identify that through the variable [recSession] or _ss_ (the ss structure was used in [EMG_AQ]). In case of _ss_ it will transform it into [recSession] in order to keep compatibility.
 The subfunction [Load_recSession] will be executed.

 * Load signal features
 In case you load signal features data, the program will recognize that through the variable [sigFeatures] and will execute [Load_sigFeatures].

see [BioPatRec_StartupGuide] for operation of the GUI.

In this GUI_PatRec is also possible to:

  * Real-time !PatRec (Quick test)
   * Calls RealtimePatRec
   * Uses [patRec] and the GUI handles.
   * Returns the predicted movements to the GUI and the average processing time.

  * Motion test
   * Calls MotionTest
   * Uses [patRec] and the GUI handles.
   * Returns ...

NOTE: To do any real-time testing you must have configured your DAQ card, see [BioPatRec_StartupGuide].

= Adding a New !PatRec Algorithm =

Create all the related functions (files) inside a new folder with clear name for your new algorithm. This folder must be inside !PatRec folder.

Take a look at OfflinePatRec to understand how data is processed before reaching the PatRec algorithms. You have to be sure that your algorithm takes as input the [sigFeatures] struct.

You will normally need at least 2 functions

 * One for training your algorithm
 * One for testing your trained algorithm  

You will have to modify the following routines:

 * {{{GUI_PatRec}}} (To add you algorithm in the GUI)
  * pm_SelectAlgorithm
  * pm_SelectTraining
 * OfflinePatRecTraining (Training)
 * OneShotPatRec (Testing)